/* Flat Dark Console UI */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=JetBrains+Mono:wght@400;700&display=swap');

/* Reset & Base */
.stApp { background-color: #111116; color: #d1d5db; font-family: 'Inter', sans-serif; }

/* Main Layout Tweaks */
.block-container { max-width: 100%; padding-top: 2rem; padding-left: 1rem; padding-right: 1rem; }

/* Sidebar Styling */
section[data-testid="stSidebar"] {
    background-color: #111116;
    border-right: 1px solid #1f1f2e;
    width: 250px !important;
}
.css-1d391kg { background-color: #111116 !important; }

/* Sidebar Text / Nav */
.nav-header { font-size: 10px; font-weight: 800; color: #4b5563; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 8px; margin-top: 20px;}
.nav-item { 
    padding: 10px 16px; margin-bottom: 4px; border-radius: 6px; font-size: 13px; font-weight: 600; 
    color: #9ca3af; display: flex; align-items: center; gap: 10px; cursor: pointer; transition: all 0.2s;
}
.nav-item:hover { background-color: #1a1a24; color: #f3f4f6; }
.nav-item.active { 
    background-color: #1a1a24; color: #ffffff; border-left: 3px solid #6366f1; 
    border-radius: 0 6px 6px 0; padding-left: 13px;
}

h1, h2, h3 { color: #f8fafc; font-weight: 800; }

/* Center Video Container */
.video-container { 
    background-color: #181820; border: 1px solid #272733; border-radius: 12px; 
    padding: 24px; margin-bottom: 20px; display: flex; justify-content: center;
}

/* Right Panel Container / Metrics Box */
.metrics-panel { 
    background-color: #181820; border: 1px solid #272733; border-radius: 12px; 
    padding: 24px; height: 100%; display: flex; flex-direction: column;
}

/* Top Right Big Score */
.manipulation-label { font-size: 10px; font-weight: 800; color: #9ca3af; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 10px; }
.score-value { font-size: 64px; font-weight: 900; line-height: 1; margin-bottom: 16px; font-family: 'Inter', sans-serif;}
.score-red { color: #ef4444; }
.score-yellow { color: #eab308; }
.score-green { color: #22c55e; }

/* Status Badge */
.status-badge {
    padding: 10px 0; border-radius: 6px; font-size: 13px; font-weight: 800; 
    letter-spacing: 2px; text-transform: uppercase; text-align: center; width: 100%; margin-bottom: 30px;
}
.status-red { background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.2); color: #ef4444; }
.status-yellow { background: rgba(234, 179, 8, 0.1); border: 1px solid rgba(234, 179, 8, 0.2); color: #eab308; }
.status-green { background: rgba(34, 197, 94, 0.1); border: 1px solid rgba(34, 197, 94, 0.2); color: #22c55e; }

/* Detailed Metrics */
.metric-title { font-size: 10px; font-weight: 800; color: #9ca3af; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 8px; margin-top: 15px; }
.progress-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; }
.progress-bar-bg { flex-grow: 1; background-color: #272733; height: 8px; border-radius: 4px; margin-right: 15px; overflow: hidden; }
.progress-bar-fill { height: 100%; border-radius: 4px; }
.progress-value { font-size: 11px; font-weight: 600; color: #d1d5db; min-width: 30px; text-align: right; }

/* Streamlit overrides for custom progress */
.stProgress .st-bo { background-color: #6366f1; }

/* Bottom Metadata Pills */
.metadata-row { display: flex; gap: 10px; margin-bottom: 20px; }
.meta-pill { 
    background-color: #181820; border: 1px solid #272733; border-radius: 6px; 
    padding: 8px 12px; font-size: 11px; color: #9ca3af; display: flex; align-items: center; gap: 6px;
}

/* Frame Analysis Blocks */
.frame-analysis-box { background-color: #181820; border: 1px solid #272733; border-radius: 12px; padding: 16px; margin-bottom: 20px; }
.frame-blocks-row { display: flex; gap: 6px; margin-top: 12px; }
.frame-block { height: 16px; flex-grow: 1; border-radius: 4px; }
.fk-red { background-color: #ef4444; }
.fk-yellow { background-color: #eab308; }
.fk-green { background-color: #22c55e; }

/* Kernel Log */
.log-container { background-color: #181820; border: 1px solid #272733; border-radius: 12px; padding: 16px; }
.log-box { 
    background-color: #0b0b0f; border-radius: 6px; padding: 12px; font-family: 'JetBrains Mono', monospace; 
    font-size: 11px; height: 140px; overflow-y: auto; color: #8b92a5; margin-top: 10px;
}
.log-time { color: #4b5563; margin-right: 8px; }
.log-success { color: #22c55e; }
.log-error { color: #ef4444; }
.log-info { color: #6366f1; }

/* Action Buttons Override */
div.stButton > button:first-child {
    width: 100%; border-radius: 8px; font-weight: 700; font-size: 13px; letter-spacing: 1px; padding: 12px; margin-top: 10px; transition: all 0.2s;
}
/* Primary / Run Button */
button[kind="primary"] { background-color: #4f46e5 !important; color: white !important; border: none !important; }
button[kind="primary"]:hover { background-color: #4338ca !important; }

/* Secondary / Export Button */
button[kind="secondary"] { background-color: transparent !important; color: #9ca3af !important; border: 1px solid #374151 !important; }
button[kind="secondary"]:hover { border-color: #4f46e5 !important; color: white !important; }

/* Fix Video Aspect */
div[data-testid="stVideo"] { margin-bottom: 0px !important; display: flex; justify-content: center; height: 360px !important; overflow: hidden; }
div[data-testid="stVideo"] video { max-height: 360px !important; height: 100% !important; width: auto !important; object-fit: contain !important; border-radius: 8px;}
